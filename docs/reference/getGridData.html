<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Compute Data for a Grid Layer — getGridData • cartography</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>

<!-- mathjax -->
<script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">cartography</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/Groupe-ElementR/cartography/">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Compute Data for a Grid Layer</h1>
    </div>

    
    <p>This function computes data to match a grid layer (as outputed 
by <a href='getGridLayer.html'>getGridLayer</a> )
according to the surface intersections.</p>
    

    <pre><span class='fu'>getGridData</span>(<span class='no'>x</span>, <span class='no'>df</span>, <span class='kw'>dfid</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>var</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <dl class="dl-horizontal">
      <dt>x</dt>
      <dd>a list generated by the <a href='getGridLayer.html'>getGridLayer</a> function.</dd>
      <dt>df</dt>
      <dd>a data frame that contains the values to adapt to the grid. It must 
correspond to the spdf argument in <a href='getGridLayer.html'>getGridLayer</a>.</dd>
      <dt>dfid</dt>
      <dd>identifier field in df, default to the first column 
of df. (optional)</dd>
      <dt>var</dt>
      <dd>name of the numeric field in df to adapt to the grid.</dd>
    </dl>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A data frame is returned. id_cell are ids of the grid, the two other 
variable are the share of the variable in each cell and the share of the 
variable in each cell divided by its area (in map units).</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p><a href='getGridLayer.html'>getGridLayer</a></p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>## Not run: ------------------------------------</span>
<span class='co'># data(nuts2006)</span>
<span class='co'># # Create a grid layer</span>
<span class='co'># mygrid &lt;- getGridLayer(spdf=nuts2.spdf,cellsize = 200000)</span>
<span class='co'># # Compute data for the grid layer</span>
<span class='co'># datagrid.df &lt;- getGridData(mygrid, nuts2.df, "pop2008",dfid=NULL)</span>
<span class='co'># </span>
<span class='co'># # Plot total population</span>
<span class='co'># plot(mygrid$spdf, col="#CCCCCC",border="white")</span>
<span class='co'># propSymbolsLayer(spdf = mygrid$spdf, df = datagrid.df, legend.style = "e",</span>
<span class='co'>#                  legend.pos = "right", border = "white",legend.title.txt = "Total population",</span>
<span class='co'>#                  var = "pop2008", inches=0.01, col="black", add=TRUE)</span>
<span class='co'># </span>
<span class='co'># # Plot dentsity of population </span>
<span class='co'># ## conversion from square meter to square kilometers</span>
<span class='co'># datagrid.df$densitykm &lt;- datagrid.df$pop2008_density*1000*1000 </span>
<span class='co'># cols &lt;- carto.pal(pal1 = "taupe.pal", n1 = 6)</span>
<span class='co'># choroLayer(spdf = mygrid$spdf,df = datagrid.df,var = "densitykm", add=FALSE,</span>
<span class='co'>#            border = "grey80",col=cols,</span>
<span class='co'>#            legend.pos = "right", method = "q6",</span>
<span class='co'>#            legend.title.txt = "Population density")</span>
<span class='co'>#            </span>
<span class='co'>## ---------------------------------------------</span></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Timothée Giraud, Nicolas Lambert.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
